# ‚ö° –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Storage (5 –º–∏–Ω—É—Ç)

## üéØ –ß—Ç–æ –¥–µ–ª–∞—Ç—å

### 1Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å buckets (2 –º–∏–Ω—É—Ç—ã)

–û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard ‚Üí Storage ‚Üí New bucket:

**Bucket 1: images**
```
Name: images
Public: ‚úÖ ON
Size limit: 5242880
MIME: image/*
```

**Bucket 2: videos**
```
Name: videos
Public: ‚úÖ ON
Size limit: 52428800
MIME: video/*
```

**Bucket 3: avatars**
```
Name: avatars
Public: ‚úÖ ON
Size limit: 2097152
MIME: image/*
```

### 2Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏ (2 –º–∏–Ω—É—Ç—ã)

–û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor ‚Üí New query:

```sql
-- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ñ–∞–π–ª:
setup-storage-complete.sql
```

–ò–ª–∏ –±—ã—Å—Ç—Ä–∞—è –≤–µ—Ä—Å–∏—è:

```sql
-- Images
CREATE POLICY "Public can read images" ON storage.objects FOR SELECT USING (bucket_id = 'images');
CREATE POLICY "Anyone can upload images" ON storage.objects FOR INSERT WITH CHECK (bucket_id = 'images');
CREATE POLICY "Anyone can update images" ON storage.objects FOR UPDATE USING (bucket_id = 'images');
CREATE POLICY "Anyone can delete images" ON storage.objects FOR DELETE USING (bucket_id = 'images');

-- Videos
CREATE POLICY "Public can read videos" ON storage.objects FOR SELECT USING (bucket_id = 'videos');
CREATE POLICY "Anyone can upload videos" ON storage.objects FOR INSERT WITH CHECK (bucket_id = 'videos');
CREATE POLICY "Anyone can update videos" ON storage.objects FOR UPDATE USING (bucket_id = 'videos');
CREATE POLICY "Anyone can delete videos" ON storage.objects FOR DELETE USING (bucket_id = 'videos');

-- Avatars
CREATE POLICY "Public can read avatars" ON storage.objects FOR SELECT USING (bucket_id = 'avatars');
CREATE POLICY "Anyone can upload avatars" ON storage.objects FOR INSERT WITH CHECK (bucket_id = 'avatars');
CREATE POLICY "Anyone can update avatars" ON storage.objects FOR UPDATE USING (bucket_id = 'avatars');
CREATE POLICY "Anyone can delete avatars" ON storage.objects FOR DELETE USING (bucket_id = 'avatars');
```

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å (1 –º–∏–Ω—É—Ç–∞)

Storage ‚Üí images ‚Üí Upload file ‚Üí –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–∞—Ä—Ç–∏–Ω–∫—É ‚Üí –û—Ç–∫—Ä–æ–π—Ç–µ Public URL

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –≤–∏–¥–µ–æ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø–ª–µ–µ—Ä

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í –∫–æ–¥–µ:
```javascript
const result = await supabaseService.uploadVideo(file)
console.log(result.url)
```

### –í –ø–æ—Å—Ç–∞—Ö:
```markdown
[üé• Video: –ù–∞–∑–≤–∞–Ω–∏–µ](URL)
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
```jsx
<MediaUploader type="video" onMediaUploaded={callback} />
<MediaGallery onSelectMedia={callback} />
<CustomVideoPlayer src="URL" title="–ù–∞–∑–≤–∞–Ω–∏–µ" />
```

---

## üêõ –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ bucket —Å–æ–∑–¥–∞–Ω –∏ –ø—É–±–ª–∏—á–Ω—ã–π
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç –∑–∞–Ω–æ–≤–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ MP4 —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –≤–∏–¥–µ–æ

---

## üìö –ü–æ–¥—Ä–æ–±–Ω–µ–µ

- `–ù–ê–°–¢–†–û–ô–ö–ê-STORAGE.md` - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `setup-storage-complete.sql` - SQL —Å–∫—Ä–∏–ø—Ç
- `README-CUSTOM-VIDEO-PLAYER.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
